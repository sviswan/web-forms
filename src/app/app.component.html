<div class="container-fluid">
    <h2></h2>
<form #userForm="ngForm">
    {{userForm.value | json}}
    <hr/>
    {{userModel | json}}
    <hr/>
    <div class="col-sm-12 col-md-2">
    <div class="form-group">
        <label> Name </label>
        <input type="text" name="Name" #name="ngModel" [class.is-invalid]= "name.invalid && name.touched" class="form-control"  [(ngModel)]="userModel.Name" required>
        <small class="text-danger" [class.d-none]="name.valid || name.untouched">Name is required</small>
    </div>

    {{name.invalid}}
    {{name.dirty}}
    <!--<div ngModelGroup="address">-->
        <div class="form-group">
                <label> Email </label>
                <input type="text" name="Email" #email="ngModel" pattern="/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/igm"  [class.is-invalid]="email.invalid && email.touched" class="form-control" [(ngModel)]="userModel.Email">
                <small class="text-danger" [class.d-none]="email.valid || email.untouched">Email should be in format XXX@mail.com</small>
        </div>
        {{email.invalid}}
    {{email.dirty}}
        <div class="form-group">
                <label> Phone </label>
                <input type="text" name="Phone" #phone="ngModel" pattern="^\d{10}$" [class.is-invalid]="phone.invalid && phone.touched" class="form-control" [(ngModel)]="userModel.Phone" required>
                <!-- <small class="text-danger" [class.d-none]="phone.valid || phone.untouched">Phone must be 10 digits</small> -->
                <div *ngIf="phone.errors && (phone.invalid || phone.touched)">
                    <small class="text-danger" *ngIf="phone.errors.required"> Phone is required</small>
                    <small class="text-danger" *ngIf="phone.errors.pattern">Phone is 10 digits only</small>
                </div>
            </div>
        {{phone.invalid}}
    <!--</div>-->
    <div class="form-group">
        <label>Topics</label>
        <select class="custom-select" name="Topics" [(ngModel)]="userModel.Topics">
            <option value="">I'm interested in</option>    
            <option *ngFor="let topic of topics">
                {{topic}}
            </option>
        </select>
    </div>
    <div>
        <label>Time preference</label>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="TimePreference" value="morning" [(ngModel)]="userModel.TimePreference">
            <label class="form-check-label">Morning (9AM- 12PM)</label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="TimePreference" value="evening" [(ngModel)]="userModel.TimePreference">
            <label class="form-check-label">Evening (5PM- 8PM)</label>
        </div>
    </div>
    <div class="form-group">
        <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" name="Subscribe" [(ngModel)]="userModel.Subscribe">
            <label class="form-check-label">
                Send me promotional offers
            </label>
        </div>
    </div>
    <button class="btn btn-primary" type="submit">Submit</button>
    </div><!--<div class="col-sm-12 col-md-2">-->
</form>
</div><!--<div class="container-fluid">-->


